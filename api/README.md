# API
This is the only folder that you need to deploy in order to use the Neware RS485 Python API.

## Top Level Directory
In the top level directory are all the things that you need to interact with to emulate a middle machine (implemented) or a battery tester (todo: coming soon).

- ```middle_machine.py```: This file allows you to emulate the behavior of a middle machine. It includes functions to request and receive voltage and current from a battery cycler, as well as command test steps.

- ```example_battery_controls.py```: This file is an example showing you how to use ```middle_machine.py``` to run a series of basic test steps on a battery cell and record the results.

## RS485 Sub-directory

> ***Everything in this directory is autogenerated!***

This directory is entirely autogenerated from ```generate_neware_rs485_api_files.py``` in the ```bus_definition``` top-level directory and should not need to be updated manually.

This directory contains ```rs485_api.py``` which is the top level file for creating/packing and matching/unpacking an arbitrary message. This is what ```middle_machine.py``` interfaces with in order to creates and receives messages. It is extremely unlikely that you will need to interface with this file directly, and you should instead use ```middle_machine.py``` or one of the other machine emulator files to build your applications.

### Messages Sub-Sub-directory

> ***Everything in this directory is autogenerated!***

This directory is entirely autogenerated from ```generate_neware_rs485_api_files.py``` in the ```bus_definition``` top-level directory and should not need to be updated manually.

This directory contains one file per message, each of which contains one class with two functions for packing and unpacking the message payload respectively.